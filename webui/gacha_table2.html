<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    {% if is_dev %}
    <link rel="stylesheet/less" type="text/css" href="{{ handler.static_url("css/main.less") }}" />
    <script type="text/javascript" src="{{ handler.static_url("js/less.js") }}"></script>
    {% else %}
    <link rel="stylesheet" type="text/css" href="{{ handler.static_url("css/main.css") }}" />
    {% end %}
    <link rel="stylesheet" type="text/css" href="{{ image_host }}/icons2/icons.css?c={{ starlight.data.version }}" />
    <link rel="stylesheet" type="text/css" href="{{ image_host }}/icons2/icons@2x.css?c={{ starlight.data.version }}" />
    <script type="text/javascript" src="{{ handler.static_url("js/home.js") }}"></script>
    <script type="text/javascript" src="{{ handler.static_url("js/tlinject.js") }}"></script>
    <script type="text/javascript" src="{{ handler.static_url("js/skills.js") }}"></script>

    <title>Gachas (sldb)</title>
</head>

<body>
  {% include header.html %}
  <div class="container">
    <div class="stdcon chara_header">
      <div class="name_slab">
        {% raw tlable(gacha.name) %} <small>(internally known as: {{ gacha.id }})</small>
      </div>

      <table class="stats_table control_table">
        <tr class="toggles_row">
          <th>Card Rarity</th>
          <td onclick="toggle_kill_css(this)" data-kill-class="SSR" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="SR" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="Rare" class="vocal">X</td>
        </tr>
        <tr>
          <th>&nbsp;</th>
          <th>SSR</th>
          <th>SR</th>
          <th>Rare</th>
        </tr>
      </table>
      <table class="stats_table control_table">
        <tr class="toggles_row">
          <th>Skill Type</th>
          <td onclick="toggle_kill_css(this)" data-kill-class="s_pl" class="vocal" title="All variants">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="s_cprot" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="s_combobonus" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="s_scorebonus" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="s_heal" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="s_life" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="s_overload" class="vocal">X</td>
        </tr>
        <tr>
          <th>&nbsp;</th>
          <th title="All variants">Perf. Lock*</th>
          <th>C. Guard</th>
          <th>Combo Bonus</th>
          <th>Score Bonus</th>
          <th>Healer</th>
          <th>H. Guard</th>
          <th>Overload</th>
        </tr>
      </table>
      <table class="stats_table control_table">
        <tr class="toggles_row">
          <th>High stat</th>
          <td onclick="toggle_kill_css(this)" data-kill-class="m_vo_kc" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="m_vi_kc" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="m_da_kc" class="vocal">X</td>
          <td onclick="toggle_kill_css(this)" data-kill-class="m_ba_kc" class="vocal">X</td>
        </tr>
        <tr>
          <th>&nbsp;</th>
          <th>Vocal</th>
          <th>Visual</th>
          <th>Dance</th>
          <th>Balanced</th>
        </tr>
      </table>

      <ul>
        <li>Ft. - this card is featured in this gacha</li>
        <li>Lm. - this card is marked as limited in this gacha</li>
      </ul>
    </div>

    <table class="table" style="width:100%">
      <tr class="control_row">
        <th>Card</th>
        <th class=""></th>
        <th colspan="2">Type</th>
        <th>{{ _("Ft.?") }}</th>
        <th>{{ _("Lm.?") }}</th>
      </tr>

      {% for rec, card, lim in cards %}
      {% set card = starlight.data.card(card) %}
      <tr>
        <td class="{{ enums.attribute(card.attribute) }}" style="width:1%">
          <a href="/char/{{ card.chara_id }}#c_{{ card.id }}_head">{% raw icon(card.id) %}</a>
        </td>

        <td class="{{ enums.attribute(card.attribute) }} ">
          <a href="/char/{{ card.chara_id }}#c_{{ card.id }}_head">{{ tle.translate_name(card.name_only) }}</a><br>
            {% if card.title %}<small>({% raw tlable(card.title) %})</small>{% end %}
        </td>

        <td style="width:1%" class="{{ enums.attribute(card.attribute) }}">
          <div class="icon {{ enums.stat_dot(card.best_stat) }}"></div>
        </td>
        <td>
          <div class="icon {{ enums.skill_class(card.skill.skill_type) }}"></div> <small class="hides_under_mobile">({{ enums.skill_type(card.skill.skill_type) }})</small>
        </td>

        <td>
          {{ "Yes" if rec else "No" }}
        </td>
        <td>
          {{ "Yes" if lim else "No" }}
        </td>
      </tr>
      {% end %}
    </table>
  </div>
  {% include footer.html %}

  <script>tlinject_activate();  event_counter_init(); </script>
</body>
</html>
